---
import { Image } from 'astro:assets';
import KlinikLogo from '../assets/images/logos/klinik-logo.png';
---

<header class="bg-background-soft border-b border-gray-200 py-0 px-6">
  <nav class="max-w-7xl mx-auto flex flex-col lg:flex-row items-center justify-between gap-6">
    <div class="flex items-center gap-6">
      <!-- Klinik Logosu -->
      <Image 
        src={KlinikLogo}
        alt="Klinik Logo"
        widths={[120, 240]}
        sizes="120px"
        loading="eager"
        class="w-32 h-32 object-contain"
      />
    <ul class="flex space-x-8">
      <li>
        <a href="/hakkimda/" class="text-text-primary hover:text-primary transition-colors duration-200 hover:underline">Hakkımda</a>
      </li>
      
      <!-- Deri Hastalıkları Dropdown Menü -->
      <li class="relative group" id="deri-hastaliklari-menu">
        <a 
          href="/deri-hastaliklari/"
          class="text-text-primary hover:text-primary transition-colors duration-200 flex items-center focus:outline-none"
          aria-haspopup="true"
          aria-expanded="false"
        >
          Deri Hastalıkları
          <svg class="ml-1 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </a>
        
        <div 
          class="absolute hidden group-hover:block bg-white rounded-md shadow-lg mt-2 py-2 w-64 z-50 border border-gray-100 right-0 top-full"
        >
          <a href="/deri-hastaliklari/akne/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Akne (Sivilce) Tedavisi</a>
          <a href="/deri-hastaliklari/egzema/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Egzema Tedavisi</a>
          <a href="/deri-hastaliklari/sedef/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Sedef Hastalığı</a>
          <a href="/deri-hastaliklari/sac-dokulmesi/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Saç Dökülmesi Tedavisi</a>
          <a href="/deri-hastaliklari/vitiligo/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Vitiligo Tedavisi</a>
          <a href="/deri-hastaliklari/rozase/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Rozase (Gül Hastalığı)</a>
          <a href="/deri-hastaliklari/urtiker/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Ürtiker (Kurdeşen) Tedavisi</a>
          <a href="/deri-hastaliklari/herpes/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Herpes (Uçuk) Tedavisi</a>
          <a href="/deri-hastaliklari/liken/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Liken Tedavisi</a>
          <a href="/deri-hastaliklari/mantar/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Mantar Tedavisi</a>
        </div>
      </li>
      
      <!-- Dermokozmetik İşlemler Dropdown Menü -->
      <li class="relative group" id="dermokozmetik-menu">
        <a 
          href="/dermokozmetik/"
          class="text-text-primary hover:text-primary transition-colors duration-200 flex items-center focus:outline-none"
          aria-haspopup="true"
          aria-expanded="false"
        >
          Dermokozmetik İşlemler
          <svg class="ml-1 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </a>
        
        <div 
          class="absolute hidden group-hover:block bg-white rounded-md shadow-lg mt-2 py-2 w-64 z-50 border border-gray-100 right-0 top-full"
        >
          <a href="/dermokozmetik/dolgu/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Dolgu Uygulamaları</a>
          <a href="/dermokozmetik/botoks/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Botoks Uygulamaları</a>
          <a href="/dermokozmetik/mezoterapi/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Mezoterapi Uygulamaları</a>
          <a href="/dermokozmetik/lazer-tedavileri/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Lazer Tedavileri</a>
          <a href="/dermokozmetik/altin-igne/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Altın İğne (Radyofrekans)</a>
          <a href="/dermokozmetik/diger-islemler/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200 border-t border-gray-100 mt-2 pt-2">Diğer Yenilikçi İşlemler</a>
        </div>
      </li>
      
      <!-- Dermatocerrahi Dropdown Menü -->
      <li class="relative group" id="dermatocerrahi-menu">
        <a 
          href="/dermatocerrahi/"
          class="text-text-primary hover:text-primary transition-colors duration-200 flex items-center focus:outline-none"
          aria-haspopup="true"
          aria-expanded="false"
        >
          Dermatocerrahi
          <svg class="ml-1 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </a>
        
        <div 
          class="absolute hidden group-hover:block bg-white rounded-md shadow-lg mt-2 py-2 w-48 z-50 border border-gray-100 right-0 top-full"
        >
          <a href="/dermatocerrahi/ben-tedavisi/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Ben Tedavisi</a>
          <a href="/dermatocerrahi/sigil-tedavisi/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Siğil Tedavisi</a>
          <a href="/dermatocerrahi/kist-tedavisi/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Kist Tedavisi</a>
          <a href="/dermatocerrahi/kriyoterapi/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Kriyoterapi</a>
          <a href="/dermatocerrahi/deri-biyopsisi/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Deri Biyopsisi</a>
          <a href="/dermatocerrahi/tirnak-cerrahisi/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Tırnak Cerrahisi</a>
        </div>
      </li>
      
      <!-- Deri Kanserleri Dropdown Menü -->
      <li class="relative group" id="deri-kanserleri-menu">
        <a 
          href="/deri-kanserleri/"
          class="text-text-primary hover:text-primary transition-colors duration-200 flex items-center focus:outline-none"
          aria-haspopup="true"
          aria-expanded="false"
        >
          Deri Kanserleri
          <svg class="ml-1 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </a>
        
        <div 
          class="absolute hidden group-hover:block bg-white rounded-md shadow-lg mt-2 py-2 w-56 z-50 border border-gray-100 right-0 top-full"
        >
          <a href="/deri-kanserleri/malign-melanom/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Malign Melanom</a>
          <a href="/deri-kanserleri/bazal-hucreli-kanser/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Bazal Hücreli Kanser</a>
          <a href="/deri-kanserleri/skuamoz-hucreli-kanser/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Skuamöz Hücreli Kanser</a>
          <a href="/deri-kanserleri/ben-takibi-ve-dermoskopi/" class="block px-4 py-2 text-text-primary hover:bg-background-soft transition-colors duration-200">Ben Takibi ve Dermoskopi</a>
        </div>
      </li>
      
      <li>
        <a href="/teledermatoloji/" class="text-text-primary hover:text-primary transition-colors duration-200 hover:underline">Online Muayene</a>
      </li>
      <li>
        <a href="/akademik/" class="text-text-primary hover:text-primary transition-colors duration-200 hover:underline">Akademik</a>
      </li>
      <li>
        <a href="/blog/" class="text-text-primary hover:text-primary transition-colors duration-200 hover:underline">Blog</a>
      </li>
      <li>
        <a href="/iletisim/" class="text-text-primary hover:text-primary transition-colors duration-200 hover:underline">İletişim</a>
      </li>
    </ul>
  </nav>
</header>

<script is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    // Deri Hastalıkları Dropdown
    const deriMenu = document.getElementById('deri-hastaliklari-menu');
    const deriDropdown = deriMenu?.querySelector('[class*="absolute"]');
    
    if (deriMenu && deriDropdown) {
      deriMenu.addEventListener('mouseenter', () => {
        deriDropdown.classList.remove('hidden');
        deriMenu.querySelector('a').setAttribute('aria-expanded', 'true');
      });
      
      deriMenu.addEventListener('mouseleave', () => {
        deriDropdown.classList.add('hidden');
        deriMenu.querySelector('a').setAttribute('aria-expanded', 'false');
      });
    }
    
    // Dermokozmetik Dropdown
    const dermokozmetikMenu = document.getElementById('dermokozmetik-menu');
    const dermokozmetikDropdown = dermokozmetikMenu?.querySelector('[class*="absolute"]');
    
    if (dermokozmetikMenu && dermokozmetikDropdown) {
      dermokozmetikMenu.addEventListener('mouseenter', () => {
        dermokozmetikDropdown.classList.remove('hidden');
        dermokozmetikMenu.querySelector('a').setAttribute('aria-expanded', 'true');
      });
      
      dermokozmetikMenu.addEventListener('mouseleave', () => {
        dermokozmetikDropdown.classList.add('hidden');
        dermokozmetikMenu.querySelector('a').setAttribute('aria-expanded', 'false');
      });
    }
    
    // Dermatocerrahi Dropdown
    const cerrahiMenu = document.getElementById('dermatocerrahi-menu');
    const cerrahiDropdown = cerrahiMenu?.querySelector('[class*="absolute"]');
    
    if (cerrahiMenu && cerrahiDropdown) {
      cerrahiMenu.addEventListener('mouseenter', () => {
        cerrahiDropdown.classList.remove('hidden');
        cerrahiMenu.querySelector('a').setAttribute('aria-expanded', 'true');
      });
      
      cerrahiMenu.addEventListener('mouseleave', () => {
        cerrahiDropdown.classList.add('hidden');
        cerrahiMenu.querySelector('a').setAttribute('aria-expanded', 'false');
      });
    }
    
    // Deri Kanserleri Dropdown
    const kanserMenu = document.getElementById('deri-kanserleri-menu');
    const kanserDropdown = kanserMenu?.querySelector('[class*="absolute"]');
    
    if (kanserMenu && kanserDropdown) {
      kanserMenu.addEventListener('mouseenter', () => {
        kanserDropdown.classList.remove('hidden');
        kanserMenu.querySelector('a').setAttribute('aria-expanded', 'true');
      });
      
      kanserMenu.addEventListener('mouseleave', () => {
        kanserDropdown.classList.add('hidden');
        kanserMenu.querySelector('a').setAttribute('aria-expanded', 'false');
      });
    }
    
    // Dropdown dışına tıklanırsa kapat
    document.addEventListener('click', (e) => {
      if (deriMenu && !deriMenu.contains(e.target)) {
        deriDropdown?.classList.add('hidden');
        deriMenu.querySelector('a')?.setAttribute('aria-expanded', 'false');
      }
      
      if (dermokozmetikMenu && !dermokozmetikMenu.contains(e.target)) {
        dermokozmetikDropdown?.classList.add('hidden');
        dermokozmetikMenu.querySelector('a')?.setAttribute('aria-expanded', 'false');
      }
      
      if (cerrahiMenu && !cerrahiMenu.contains(e.target)) {
        cerrahiDropdown?.classList.add('hidden');
        cerrahiMenu.querySelector('a')?.setAttribute('aria-expanded', 'false');
      }
      
      if (kanserMenu && !kanserMenu.contains(e.target)) {
        kanserDropdown?.classList.add('hidden');
        kanserMenu.querySelector('a')?.setAttribute('aria-expanded', 'false');
      }
    });
  });
</script>